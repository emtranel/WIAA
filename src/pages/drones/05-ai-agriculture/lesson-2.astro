---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Sidebar from '../../../components/Sidebar.astro';
import LessonNav from '../../../components/LessonNav.astro';
const content = await import('../../../content/drones/05-ai-agriculture/lesson-2.md');
const { Content } = content;
const { title, chapter, lesson } = content.frontmatter;
---

<BaseLayout title={title}>
  <div class="container" style="max-width: 1400px; margin: 30px auto; padding: 0 20px;">
    <div style="display: grid; grid-template-columns: 250px 1fr; gap: 24px; align-items: start;">
      <Sidebar currentChapter={chapter} currentLesson={lesson} />
      <div class="content-area">
        <div class="content-header">
          <div class="page-header-bar">
            <div class="tab-buttons">
              <a href="/WIAA/drones" class="tab-btn active">Learning Module</a>
              <a href="/WIAA/drones/instructor" class="tab-btn">Instructor Resources</a>
            </div>
          </div>
          <p class="chapter-label">Chapter {chapter}: AI in agriculture</p>
          <h1>{title}</h1>
        </div>
        <article class="lesson-content">
          <p class="intro-text">Different AI tools can be applied to specific tasks in agriculture.</p>
          
          <!-- Interactive Model Section -->
          <div class="interactive-section">
            <div class="model-viewer">
              <img src="/WIAA/images/AI_models.jpg" alt="AI Models" />
              <div class="model-buttons">
                <button class="model-btn" data-model="vision">Vision Models</button>
                <button class="model-btn" data-model="classification">Classification Models</button>
                <button class="model-btn" data-model="quantification">Quantification Models</button>
                <button class="model-btn" data-model="prediction">Prediction Models</button>
                <button class="model-btn" data-model="language">Language & Explanation Models</button>
              </div>
            </div>
            
            <div class="model-panel">
              <div class="model-description" id="modelDescription">
                <p class="hint-text">Click on a model above to learn more</p>
              </div>
            </div>
          </div>

          <h2>Multimodal Models</h2>
          <p>These models can be used independently from each other, but they become more helpful when they are combined. When these models are combined, they create <strong>multimodal models</strong> to solve problems that require multiple AI tools.</p>
          
          <p>Maybe we want to upload an image to our model and have it tell us what the pest species is and how many of each species are present in the image. Vision, classification and quantification models would be combined into one multimodal model.</p>

          <h2>Agentic AI Systems</h2>
          <p>Multimodal models can also be combined with external data to create an <strong>agentic AI system</strong>. If the vision, classification, and quantification models were combined with external data such as air temperature and lifecycle data, the agentic AI system could be used to determine when the pest species might reproduce in real time.</p>

          <h2>Learning Activities</h2>
          <ul class="activities-list">
            <li>Use PestIDBot to identify weeds using AI</li>
          </ul>
        </article>
        <LessonNav 
          prev={{ href: '/drones/05-ai-agriculture/lesson-1', label: 'Previous' }}
          next={{ href: '/drones/05-ai-agriculture/review', label: 'Next' }}
          progress={`${chapter}.${lesson} / 7 Chapters`}
        />
      </div>
    </div>
  </div>
</BaseLayout>

<style is:global>
  :root {
    --isu-red: #c41e3a;
    --isu-gold: #f8c600;
    --text-primary: #1a1a1a;
    --text-secondary: #666666;
    --border-color: #e5e7eb;
  }

  .lesson-content .intro-text {
    font-size: 1.1em;
    line-height: 1.8;
    color: var(--text-secondary);
    background: linear-gradient(135deg, rgba(196, 30, 58, 0.04), rgba(248, 198, 0, 0.04));
    padding: 24px;
    border-left: 4px solid var(--isu-red);
    border-radius: 8px;
    margin: 28px 0 50px 0;
  }

  .lesson-content h2 {
    font-size: 1.8em;
    font-weight: 700;
    color: var(--isu-red);
    margin: 45px 0 28px 0;
    letter-spacing: -0.5px;
  }

  .lesson-content > p {
    font-size: 1.05em;
    line-height: 1.8;
    color: var(--text-primary);
    margin: 20px 0;
  }

  /* Interactive Section */
  .interactive-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
    margin: 50px 0;
    align-items: start;
  }

  .model-viewer {
    position: relative;
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .model-viewer img {
    display: block;
    width: 100%;
    height: auto;
  }

  .model-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    padding: 20px;
    background: #f9f9f9;
    border-top: 1px solid var(--border-color);
    justify-content: center;
  }

  .model-btn {
    padding: 10px 16px;
    background: white;
    border: 2px solid var(--border-color);
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9em;
    color: var(--text-primary);
    transition: all 0.3s ease;
  }

  .model-btn:hover {
    border-color: var(--isu-red);
    color: var(--isu-red);
    background: rgba(196, 30, 58, 0.05);
    transform: translateY(-2px);
  }

  .model-btn.active {
    background: var(--isu-red);
    color: white;
    border-color: var(--isu-red);
  }

  /* Model Panel */
  .model-panel {
    background: linear-gradient(135deg, #ffffff 0%, #f9f9f9 100%);
    border: 1.5px solid var(--border-color);
    border-radius: 12px;
    padding: 32px;
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: sticky;
    top: 100px;
  }

  .model-description {
    width: 100%;
  }

  .model-description h3 {
    font-size: 1.5em;
    color: var(--isu-red);
    margin-bottom: 16px;
    font-weight: 700;
  }

  .model-description ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .model-description li {
    font-size: 1.05em;
    line-height: 1.8;
    color: var(--text-secondary);
    margin: 12px 0;
    padding-left: 24px;
    position: relative;
  }

  .model-description li::before {
    content: '•';
    position: absolute;
    left: 8px;
    color: var(--isu-red);
    font-weight: bold;
  }

  .model-description strong {
    color: var(--text-primary);
    font-weight: 700;
  }

  .hint-text {
    text-align: center;
    color: #999;
    font-style: italic;
  }

  /* Learning Activities */
  .activities-list {
    list-style: none;
    padding: 0;
    margin: 24px 0;
  }

  .activities-list li {
    font-size: 1.05em;
    line-height: 1.8;
    color: var(--text-primary);
    margin: 14px 0;
    padding-left: 24px;
    position: relative;
  }

  .activities-list li::before {
    content: '→';
    position: absolute;
    left: 0;
    color: var(--isu-red);
    font-weight: bold;
    font-size: 1.2em;
  }

  .activities-list a {
    color: var(--isu-red);
    text-decoration: none;
    font-weight: 600;
    transition: all 0.2s ease;
  }

  /* Tab Buttons */
  .tab-buttons {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
  }

  .tab-btn {
    padding: 12px 20px;
    background: #f5f5f5;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s;
    text-decoration: none;
    color: var(--text-primary);
    font-size: 0.95em;
  }

  .tab-btn:hover {
    background: #e8e8e8;
  }

  .tab-btn.active {
    background: var(--isu-red);
    color: white;
  }

  .page-header-bar {
    display: none;
  }

  @media (max-width: 1024px) {
    .interactive-section {
      grid-template-columns: 1fr;
    }

    .model-panel {
      position: static;
      min-height: auto;
    }
  }

  @media (max-width: 768px) {
    .lesson-content h2 {
      font-size: 1.5em;
      margin: 35px 0 24px 0;
    }

    .page-header-bar {
      display: block;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--isu-gold);
    }

    .tab-buttons {
      flex-direction: column;
    }

    .model-buttons {
      padding: 15px;
      gap: 8px;
    }

    .model-btn {
      padding: 8px 12px;
      font-size: 0.85em;
      flex: 1 1 calc(50% - 4px);
    }

    .model-panel {
      padding: 24px;
      min-height: 300px;
    }

    div[style*="grid-template-columns"] {
      display: flex !important;
      flex-direction: column-reverse !important;
      gap: 16px !important;
    }
  }
</style>

<script>
  const models = {
    vision: {
      title: 'Vision Models',
      details: [
        '<strong>Purpose:</strong> Identify and locate objects in images',
        '<strong>Example:</strong> Find all weeds in a field'
      ]
    },
    classification: {
      title: 'Classification Models',
      details: [
        '<strong>Purpose:</strong> Sort and organize information',
        '<strong>Example:</strong> Is this a grasshopper or a ladybug?'
      ]
    },
    quantification: {
      title: 'Quantification Models',
      details: [
        '<strong>Purpose:</strong> Provide specific numbers and measurements',
        '<strong>Example:</strong> Count 47 Japanese beetles in this image'
      ]
    },
    prediction: {
      title: 'Prediction Models',
      details: [
        '<strong>Purpose:</strong> Analyze patterns and predict future outcomes',
        '<strong>Example:</strong> This pest will reproduce in 5 days based on temperature'
      ]
    },
    language: {
      title: 'Language & Explanation Models',
      details: [
        '<strong>Purpose:</strong> Generate explanations and understand natural language',
        '<strong>Example:</strong> Explain why this plant is diseased based on visual analysis'
      ]
    }
  };

  function displayModel(modelKey) {
    const model = models[modelKey];
    const descPanel = document.getElementById('modelDescription');
    
    document.querySelectorAll('.model-btn').forEach(btn => {
      btn.classList.remove('active');
    });
    document.querySelector(`[data-model="${modelKey}"]`).classList.add('active');
    
    const listItems = model.details.map(detail => `<li>${detail}</li>`).join('');
    descPanel.innerHTML = `
      <h3>${model.title}</h3>
      <ul>${listItems}</ul>
    `;
  }

  document.querySelectorAll('.model-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      displayModel(btn.dataset.model);
    });
  });
</script>